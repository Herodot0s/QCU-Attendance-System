<Window x:Class="QcuAttendanceSystem.Views.KioskWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="QCU Attendance Kiosk" Height="700" Width="1024"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized" 
        WindowStyle="None"
        Background="#F4F4F9">

    <Window.Resources>
        <Style x:Key="ClassItemStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Margin" Value="0,0,0,10"/>
            <Setter Property="Padding" Value="15"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="120"/>
            <!-- Header -->
            <RowDefinition Height="*"/>
            <!-- Main Content -->
            <RowDefinition Height="60"/>
            <!-- Footer -->
        </Grid.RowDefinitions>

        <!-- === 1. TOP HEADER === -->
        <Grid Grid.Row="0" Background="White">
            <Grid.Effect>
                <DropShadowEffect Color="#DDD" BlurRadius="10" ShadowDepth="2" Direction="270" Opacity="0.5"/>
            </Grid.Effect>

            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="40,0">
                <!-- LOGO FROM ASSETS -->

                <!-- LOGO FROM ASSETS -->

                <!-- LOGO FROM ASSETS -->

                <!-- LOGO FROM ASSETS -->
                <Image Source="/Assets/logo_qcu.png" Height="80" Width="112"/>

                <StackPanel VerticalAlignment="Center">
                    <TextBlock Text="QCU ATTENDANCE KIOSK" FontSize="28" FontWeight="Bold" Foreground="#800000"/>
                    <TextBlock Text="Tap your ID to record attendance" FontSize="16" Foreground="#666"/>
                </StackPanel>
            </StackPanel>

            <!-- Live Clock -->
            <StackPanel HorizontalAlignment="Right" VerticalAlignment="Center" Margin="40,0">
                <TextBlock x:Name="txtTime" Text="10:45 AM" FontSize="40" FontWeight="Bold" Foreground="#333" TextAlignment="Right"/>
                <TextBlock x:Name="txtDate" Text="Monday, Dec 02, 2025" FontSize="18" Foreground="#888" TextAlignment="Right"/>
            </StackPanel>
        </Grid>

        <!-- === 2. MAIN CONTENT === -->
        <Grid Grid.Row="1" Margin="60">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="450"/>
                <!-- Left: Scan -->
                <ColumnDefinition Width="*"/>
                <!-- Right: Schedule -->
            </Grid.ColumnDefinitions>

            <!-- LEFT SIDE: SCAN AREA -->
            <StackPanel Grid.Column="0" VerticalAlignment="Center" Margin="0,0,50,0">
                <TextBlock Text="Enter Student ID" FontSize="20" Foreground="#555" Margin="0,0,0,10"/>

                <TextBox x:Name="txtStudentID" 
                         FontSize="32" Padding="15" Height="70"
                         VerticalContentAlignment="Center"
                         BorderBrush="#800000" BorderThickness="2"
                         KeyDown="txtStudentID_KeyDown"/>

                <TextBlock Text="Press Enter after typing ID" Foreground="#999" Margin="0,10,0,0"/>

                <!-- Result Card (Hidden by default) -->
                <Border x:Name="StatusCard" Background="Transparent" CornerRadius="10" Padding="25" Margin="0,40,0,0" Visibility="Hidden">
                    <StackPanel>
                        <TextBlock x:Name="lblWelcome" Text="Success!" FontSize="22" FontWeight="Bold" Foreground="#2E7D32"/>
                        <TextBlock x:Name="lblStudentName" Text="DELA CRUZ, JUAN" FontSize="30" FontWeight="Bold" Foreground="#333" TextWrapping="Wrap" Margin="0,5,0,5"/>
                        <TextBlock x:Name="lblTimeIn" Text="Time In: 10:45 AM" FontSize="18" Foreground="#555"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- RIGHT SIDE: SCHEDULE LIST -->
            <Border Grid.Column="1" Background="White" CornerRadius="15" Padding="30" BorderBrush="#EEE" BorderThickness="1">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="Your Schedule Today" FontSize="22" FontWeight="SemiBold" Foreground="#333" Margin="0,0,0,20"/>

                    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                        <ItemsControl x:Name="TodaysClassesList">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Style="{StaticResource ClassItemStyle}">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="100"/>
                                                <!-- Time -->
                                                <ColumnDefinition Width="*"/>
                                                <!-- Subject -->
                                                <ColumnDefinition Width="90"/>
                                                <!-- Room -->
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0" VerticalAlignment="Center">
                                                <TextBlock Text="{Binding StartTime}" FontWeight="Bold" Foreground="#333" FontSize="16"/>
                                                <TextBlock Text="{Binding EndTime}" FontSize="12" Foreground="#888"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="20,0">
                                                <TextBlock Text="{Binding SubjectCode}" FontWeight="Bold" Foreground="#800000" FontSize="18"/>
                                                <TextBlock Text="{Binding Description}" FontSize="14" Foreground="#666"/>
                                            </StackPanel>

                                            <Border Grid.Column="2" Background="#F5F5F5" CornerRadius="5" VerticalAlignment="Center" Padding="0,8">
                                                <TextBlock Text="{Binding Room}" HorizontalAlignment="Center" FontWeight="Bold" Foreground="#555"/>
                                            </Border>
                                        </Grid>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </ScrollViewer>

                    <TextBlock x:Name="lblNoClasses" Text="Waiting for ID..." 
                               HorizontalAlignment="Center" VerticalAlignment="Center" 
                               Grid.Row="1" Foreground="#CCC" FontSize="24" FontStyle="Italic"/>
                </Grid>
            </Border>
        </Grid>

        <!-- === 3. FOOTER === -->
        <Grid Grid.Row="2" Background="#333">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                <TextBlock Text="Need to access the portal?" Foreground="White" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <Button Content="Go to Login" Click="GoToPortal_Click"
                        Background="Transparent" Foreground="#4EB4F9" BorderThickness="0" Cursor="Hand" FontWeight="Bold" FontSize="14"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>